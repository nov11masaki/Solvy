# Solvy - 完全版 セットアップガイド

## 🎉 新機能追加完了！

### ✨ 追加された機能

1. **問題登録機能** (`/admin`)
   - Webインターフェースで問題を簡単に登録
   - タイトル、問題文、難易度、カテゴリ、キーワード、定理を入力

2. **AI自動解答生成** (OpenAI GPT-4)
   - 問題を分析して解答の意図を理解
   - 最適な解法アプローチを提案
   - 段階的な解答ステップを自動生成
   - ヒント、詳しい解説、公式を含む完全な解答

3. **問題データベース永続化**
   - JSONファイルで問題を保存
   - サーバー再起動後も問題が保持される

## 🚀 セットアップ手順

### 1. 依存パッケージのインストール

```bash
cd /Users/shimizumasaki/Solvy
pip install -r requirements.txt
```

### 2. OpenAI APIキーの設定

`.env`ファイルを作成（`.env.example`をコピー）:

```bash
cp .env.example .env
```

`.env`ファイルを編集してAPIキーを設定:

```
FLASK_ENV=development
FLASK_DEBUG=True
OPENAI_API_KEY=your-actual-api-key-here
```

**注意**: 本物のAPIキーを設定してください

### 3. アプリケーションの起動

```bash
python app.py
```

### 4. アクセス

- **メインページ**: http://localhost:3000
- **管理画面**: http://localhost:3000/admin

## 🎯 使い方

### 問題を登録する

1. http://localhost:3000/admin にアクセス
2. フォームに問題情報を入力:
   - タイトル（例: 二次方程式の解の公式）
   - 問題文
   - 難易度（中学/高校/大学）
   - カテゴリ、キーワード、定理
3. 「AIに解答ステップを自動生成させる」にチェック
4. 「問題を登録してAIに解かせる」をクリック
5. AIが以下を生成します:
   - **問題の意図**: 何を学んでほしいか
   - **解法アプローチ**: どう解くのが最適か
   - **難易度評価**: つまずきポイント
   - **解答ステップ**: 段階的なヒントと解説

### 問題を解く

1. http://localhost:3000 にアクセス
2. 問題画像をアップロード
3. 解析ボタンをクリック
4. ステップバイステップのガイダンスが表示

## 🤖 AIの動作

AIは以下のプロセスで問題を分析します:

1. **意図分析**: 問題が何を教えたいかを理解
2. **解法検討**: 最も効果的な解き方を考える
3. **定理特定**: 必要な数学的定理を識別
4. **ステップ生成**: 段階的な解答手順を作成
5. **解説作成**: 各ステップの詳しい説明を記述

## 📂 ファイル構造

```
Solvy/
├── app.py                          # メインアプリケーション
├── requirements.txt                # Python依存パッケージ
├── .env.example                    # 環境変数サンプル
├── problems_database.json          # 問題データベース（自動生成）
├── templates/
│   ├── index.html                  # メインページ
│   └── admin.html                  # 管理画面
├── static/
│   ├── css/
│   │   ├── style.css              # メインスタイル
│   │   └── admin.css              # 管理画面スタイル
│   └── js/
│       ├── app.js                 # メインロジック
│       └── admin.js               # 管理画面ロジック
└── uploads/                        # 画像保存先
```

## 🎨 おしゃれなUI特徴

- 動く背景パターン
- グラスモーフィズムデザイン
- 滑らかなアニメーション
- グラデーション効果
- レスポンシブデザイン

## 🔧 トラブルシューティング

### OpenAI APIエラー

```
⚠️  OPENAI_API_KEYが設定されていません
```

→ `.env`ファイルに正しいAPIキーを設定してください

### AIが使えない場合

フォールバックモードで動作し、基本的な解答ステップが生成されます。

## 📄 GitHubリポジトリ

https://github.com/nov11masaki/Solvy

## 🎓 開発のポイント

- **シンプル**: React不要、バニラJavaScript
- **保守性**: わかりやすいコード構造
- **拡張性**: 新機能を簡単に追加可能
- **AI統合**: OpenAI GPT-4で高品質な解答生成

---

**完成しました！楽しんでください！** 🎉
